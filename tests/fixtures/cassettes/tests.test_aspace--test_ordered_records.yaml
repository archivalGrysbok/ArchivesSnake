interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [ArchivesSnake/0.1]
    method: POST
    uri: http://localhost:4567/users/admin/login?password=admin&expiring=False
  response:
    body: {string: '{"session":"b1962ac0f953cff6736c001462eac61690ed976d6be9765ac1134fc50afd9e02","user":{"lock_version":29,"username":"admin","name":"Administrator","is_system_user":true,"create_time":"2018-04-12T22:53:03Z","system_mtime":"2018-04-27T21:16:28Z","user_mtime":"2018-04-27T21:16:28Z","jsonmodel_type":"user","groups":[],"is_admin":true,"uri":"/users/1","agent_record":{"ref":"/agents/people/1"},"permissions":{"/repositories/1":["update_location_record","delete_vocabulary_record","update_subject_record","delete_subject_record","update_agent_record","delete_agent_record","update_vocabulary_record","update_enumeration_record","merge_subject_record","merge_agent_record","update_container_profile_record","update_location_profile_record","administer_system","manage_users","become_user","view_all_records","create_repository","delete_repository","transfer_repository","index_system","manage_repository","update_accession_record","update_resource_record","update_digital_object_record","update_event_record","delete_event_record","suppress_archival_record","transfer_archival_record","delete_archival_record","view_suppressed","view_repository","update_classification_record","delete_classification_record","mediate_edits","import_records","cancel_importer_job","create_job","cancel_job","manage_subject_record","manage_agent_record","manage_vocabulary_record","manage_enumeration_record","merge_agents_and_subjects","merge_archival_record","manage_rde_templates","update_container_record","manage_container_record","manage_container_profile_record","manage_location_profile_record","update_assessment_record","delete_assessment_record","manage_assessment_attributes"],"_archivesspace":["administer_system","manage_users","become_user","view_all_records","create_repository","delete_repository","transfer_repository","index_system","manage_repository","update_accession_record","update_resource_record","update_digital_object_record","update_event_record","delete_event_record","suppress_archival_record","transfer_archival_record","delete_archival_record","view_suppressed","view_repository","update_classification_record","delete_classification_record","mediate_edits","import_records","cancel_importer_job","create_job","cancel_job","manage_subject_record","manage_agent_record","manage_vocabulary_record","manage_enumeration_record","merge_agents_and_subjects","merge_archival_record","manage_rde_templates","update_container_record","manage_container_record","manage_container_profile_record","manage_location_profile_record","update_assessment_record","delete_assessment_record","manage_assessment_attributes","update_location_record","delete_vocabulary_record","update_subject_record","delete_subject_record","update_agent_record","delete_agent_record","update_vocabulary_record","update_enumeration_record","merge_subject_record","merge_agent_record","update_container_profile_record","update_location_profile_record"]}}}

        '}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['2925']
      Content-Type: [application/json]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [ArchivesSnake/0.1]
      X-ArchivesSpace-Session: [b1962ac0f953cff6736c001462eac61690ed976d6be9765ac1134fc50afd9e02]
    method: GET
    uri: http://localhost:4567/version
  response:
    body: {string: ArchivesSpace (20171222-0939)}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['29']
      Content-Type: [text/html;charset=UTF-8]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [ArchivesSnake/0.1]
      X-ArchivesSpace-Session: [b1962ac0f953cff6736c001462eac61690ed976d6be9765ac1134fc50afd9e02]
    method: GET
    uri: http://localhost:4567/repositories
  response:
    body: {string: '[{"lock_version":0,"repo_code":"Davetown","name":"Davetown Township","org_code":"DAVE","parent_institution_name":"Dave
        University","created_by":"admin","last_modified_by":"admin","create_time":"2018-04-12T23:01:15Z","system_mtime":"2018-04-12T23:01:15Z","user_mtime":"2018-04-12T23:01:15Z","publish":true,"jsonmodel_type":"repository","uri":"/repositories/2","display_string":"Davetown
        Township (Davetown)","agent_representation":{"ref":"/agents/corporate_entities/1"}}]

        '}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['471']
      Content-Type: [application/json]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [ArchivesSnake/0.1]
      X-ArchivesSpace-Session: [b1962ac0f953cff6736c001462eac61690ed976d6be9765ac1134fc50afd9e02]
    method: GET
    uri: http://localhost:4567/repositories/2/resources?page_size=10&page=1
  response:
    body: {string: "{\"first_page\":1,\"last_page\":1,\"this_page\":1,\"results\"\
        :[{\"lock_version\":5,\"title\":\"Recordy\u203D\",\"publish\":true,\"restrictions\"\
        :false,\"ead_id\":\"numpy\",\"ead_location\":\"Dorp\",\"created_by\":\"admin\"\
        ,\"last_modified_by\":\"admin\",\"create_time\":\"2018-04-12T23:14:38Z\",\"\
        system_mtime\":\"2018-04-24T00:14:23Z\",\"user_mtime\":\"2018-04-24T00:14:23Z\"\
        ,\"suppressed\":false,\"id_0\":\"1\",\"id_1\":\"1\",\"id_2\":\"1\",\"id_3\"\
        :\"1\",\"language\":\"eng\",\"level\":\"collection\",\"resource_type\":\"\
        collection\",\"jsonmodel_type\":\"resource\",\"external_ids\":[{\"external_id\"\
        :\"biggie\",\"source\":\"yourmom\",\"created_by\":\"admin\",\"last_modified_by\"\
        :\"admin\",\"create_time\":\"2018-04-24T00:14:23Z\",\"system_mtime\":\"2018-04-24T00:14:23Z\"\
        ,\"user_mtime\":\"2018-04-24T00:14:23Z\",\"jsonmodel_type\":\"external_id\"\
        }],\"subjects\":[],\"linked_events\":[],\"extents\":[{\"lock_version\":0,\"\
        number\":\"1\",\"created_by\":\"admin\",\"last_modified_by\":\"admin\",\"\
        create_time\":\"2018-04-24T00:14:23Z\",\"system_mtime\":\"2018-04-24T00:14:23Z\"\
        ,\"user_mtime\":\"2018-04-24T00:14:23Z\",\"portion\":\"whole\",\"extent_type\"\
        :\"volumes\",\"jsonmodel_type\":\"extent\"}],\"dates\":[{\"lock_version\"\
        :0,\"begin\":\"2018-03-26\",\"created_by\":\"admin\",\"last_modified_by\"\
        :\"admin\",\"create_time\":\"2018-04-24T00:14:23Z\",\"system_mtime\":\"2018-04-24T00:14:23Z\"\
        ,\"user_mtime\":\"2018-04-24T00:14:23Z\",\"date_type\":\"single\",\"label\"\
        :\"creation\",\"jsonmodel_type\":\"date\"}],\"external_documents\":[],\"rights_statements\"\
        :[],\"linked_agents\":[],\"revision_statements\":[],\"instances\":[{\"lock_version\"\
        :0,\"created_by\":\"admin\",\"last_modified_by\":\"admin\",\"create_time\"\
        :\"2018-04-24T00:14:23Z\",\"system_mtime\":\"2018-04-24T00:14:23Z\",\"user_mtime\"\
        :\"2018-04-24T00:14:23Z\",\"is_representative\":true,\"instance_type\":\"\
        digital_object\",\"jsonmodel_type\":\"instance\",\"digital_object\":{\"ref\"\
        :\"/repositories/2/digital_objects/1\"}},{\"lock_version\":0,\"created_by\"\
        :\"admin\",\"last_modified_by\":\"admin\",\"create_time\":\"2018-04-24T00:14:23Z\"\
        ,\"system_mtime\":\"2018-04-24T00:14:23Z\",\"user_mtime\":\"2018-04-24T00:14:23Z\"\
        ,\"instance_type\":\"computer_disks\",\"jsonmodel_type\":\"instance\",\"is_representative\"\
        :false,\"sub_container\":{\"lock_version\":0,\"created_by\":\"admin\",\"last_modified_by\"\
        :\"admin\",\"create_time\":\"2018-04-24T00:14:23Z\",\"system_mtime\":\"2018-04-24T00:14:23Z\"\
        ,\"user_mtime\":\"2018-04-24T00:14:23Z\",\"jsonmodel_type\":\"sub_container\"\
        ,\"top_container\":{\"ref\":\"/repositories/2/top_containers/1\"}}}],\"deaccessions\"\
        :[],\"related_accessions\":[],\"classifications\":[],\"notes\":[],\"uri\"\
        :\"/repositories/2/resources/1\",\"repository\":{\"ref\":\"/repositories/2\"\
        },\"tree\":{\"ref\":\"/repositories/2/resources/1/tree\"}}]}\n"}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['2497']
      Content-Type: [application/json]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [ArchivesSnake/0.1]
      X-ArchivesSpace-Session: [b1962ac0f953cff6736c001462eac61690ed976d6be9765ac1134fc50afd9e02]
    method: HEAD
    uri: http://localhost:4567/repositories/2/resources/1/ordered_records?all_ids=True
  response:
    body: {string: ''}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['362']
      Content-Type: [application/json]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [ArchivesSnake/0.1]
      X-ArchivesSpace-Session: [b1962ac0f953cff6736c001462eac61690ed976d6be9765ac1134fc50afd9e02]
    method: GET
    uri: http://localhost:4567/repositories/2/resources/1/ordered_records?all_ids=True
  response:
    body: {string: "{\"uris\":[{\"ref\":\"/repositories/2/resources/1\",\"display_string\"\
        :\"Recordy\u203D\",\"depth\":0,\"level\":\"collection\"},{\"ref\":\"/repositories/2/archival_objects/1\"\
        ,\"display_string\":\"Dog Botherer\",\"depth\":1,\"level\":\"collection\"\
        },{\"ref\":\"/repositories/2/archival_objects/2\",\"display_string\":\"Bork\"\
        ,\"depth\":1,\"level\":\"collection\"}],\"jsonmodel_type\":\"resource_ordered_records\"\
        }\n"}
    headers:
      Cache-Control: ['private, must-revalidate, max-age=0']
      Content-Length: ['362']
      Content-Type: [application/json]
      X-Content-Type-Options: [nosniff]
    status: {code: 200, message: OK}
version: 1
